<div class="row paddedleft" ng-controller="ViewLoanProductController">
	<div class="paddedbottom10">
		<ul class="breadcrumb">
			<li><a href="#/products">{{'link.admin.products' | translate}}</a> <span class="divider">/</span></li>
	        <li><a href="#/loanproducts">{{'link.products.loanproducts' | translate}}</a> <span class="divider">/</span></li>
	        <li class="active">{{loanproduct.name}}</li>
	    </ul>
	</div>
	<div>
        <div class="pull-right">
            <div class="btn-group">
                <a href="#/editloanproduct/{{loanproduct.id}}" class="btn btn-primary"><i class="icon-edit icon-white"></i>{{'button.edit' | translate}}</a>
            </div>
        </div>
        <legend>{{loanproduct.name}}</legend>
		<table  width="100%">
			<tr>
	        	<td>
	        		<a id="test" name="test" class="old-syle-anchor">&nbsp;</a>
	        	</td>
	        </tr>
			<tr class="bottomborder">
				<td colspan="4">	
					<strong>{{'label.details' | translate}}</strong>
				</td>
			</tr>
			<tr class="toppadding">
				<td>{{'table.heading.description' | translate}} :</td>
				<td colspan="3">{{loanproduct.description}}</td>
			</tr>
			<tr>
				<td>{{'label.fundname' | translate}}:</td>
				<td colspan="3">{{loanproduct.fundName}}</td>
			</tr>
			<tr>
				<td>{{'label.startdate' | translate}}:</td>
				<td colspan="3">{{loanproduct.startDate | DateFormat}}</td>
			</tr>
			<tr>
				<td>{{'label.closedate' | translate}}:</td>
				<td colspan="3">{{loanproduct.closeDate | DateFormat}}</td>
			</tr>
			<tr>
				<td>{{'label.includeborrowercycle' | translate}} :</td>
				<td colspan="3">{{loanproduct.includeInBorrowerCycle}}</td>
			</tr>
			<tr>
				<td>{{'label.useborrowerloancounter' | translate}} :</td>
				<td colspan="3">{{loanproduct.useBorrowerCycle}}</td>
			</tr>
			<tr><td colspan="4"><br/></td></tr>
			<tr class="bottomborder"><td colspan="4"><strong>Terms</strong></td></tr>
			<tr class="toppadding">
				<td>{{'label.currency' | translate}}</td>
				<td colspan="3">{{loanproduct.currency.name}}</td>
			</tr>
			<tr>
				<td>{{'label.decimalplaces' | translate}} :</td>
				<td colspan="3">{{loanproduct.currency.decimalPlaces}}</td>
			</tr>
			<tr>
				<td>{{'table.heading.principal' | translate}}:</td>
				<td colspan="3">{{loanproduct.principal}}&nbsp;&nbsp;&nbsp;( Min:{{loanproduct.minPrincipal}}&nbsp;, Max :{{loanproduct.maxPrincipal}} )</td>
			</tr>
			<tr>
				<td>{{'label.numofrepayments' | translate}}</td>
				<td colspan="3">{{loanproduct.numberOfRepayments}}&nbsp;&nbsp;&nbsp;( Min:{{loanproduct.minNumberOfRepayments}}&nbsp;, Max:{{loanproduct.maxNumberOfRepayments}})</td>
			</tr>
			<tr>
				<td>{{'label.repayevery' | translate}}:</td>
				<td colspan="3">{{loanproduct.repaymentEvery}}&nbsp;&nbsp;{{loanproduct.repaymentFrequencyType.value}}</td>
			</tr>
			<tr>
				<td>{{'label.nominalinterestrate' | translate}}</td>
				<td colspan="3">{{loanproduct.interestRatePerPeriod}}&nbsp;&nbsp;&nbsp;( Min:{{loanproduct.minInterestRatePerPeriod}}&nbsp;, Max:{{loanproduct.maxInterestRatePerPeriod}})&nbsp;&nbsp;{{loanproduct.interestRateFrequencyType.value}}</td>
			</tr>
			<tr class = "bottomborder" ng-show="loanproduct.useBorrowerCycle">
				<td colspan="4"><strong>{{'label.principalCycleVariations' | translate}}</strong></td>
			</tr>
           <tr class="bottomborder graybg" ng-show="loanproduct.useBorrowerCycle">
               <td>{{'label.cyclenumber' | translate}}</td>
               <td>{{'label.minimum' | translate}}</td>
               <td>{{'label.default' | translate}}</td>
               <td>{{'label.maximum' | translate}}</td>
               <td></td>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in loanproduct.principalVariationsForBorrowerCycle">
              <td>{{borrowerCycleVariation.valueConditionType.code | translate}}{{borrowerCycleVariation.borrowerCycleNumber}}</td>
              <td>{{borrowerCycleVariation.minValue}}</td>
              <td>{{borrowerCycleVariation.defaultValue}}</td>
              <td>{{borrowerCycleVariation.maxValue}}</td>
            </tr>
		    <tr class = "bottomborder" ng-show="loanproduct.useBorrowerCycle">
				<td colspan="4"><strong>{{'label.numerOfRepaymentCycleVariations' | translate}}</strong></td>
			</tr>
           <tr class="bottomborder graybg" ng-show="loanproduct.useBorrowerCycle">
               <td>{{'label.cyclenumber' | translate}}</td>
               <td>{{'label.minimum' | translate}}</td>
               <td>{{'label.default' | translate}}</td>
               <td>{{'label.maximum' | translate}}</td>
               <td></td>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in loanproduct.numberOfRepaymentVariationsForBorrowerCycle">
              <td>{{borrowerCycleVariation.valueConditionType.code | translate}}{{borrowerCycleVariation.borrowerCycleNumber}}</td>
              <td>{{borrowerCycleVariation.minValue}}</td>
              <td>{{borrowerCycleVariation.defaultValue}}</td>
              <td>{{borrowerCycleVariation.maxValue}}</td>
            </tr>
            <tr class = "bottomborder" ng-show="loanproduct.useBorrowerCycle">
				<td colspan="4"><strong>{{'label.interestRateCycleVariations' | translate}}</strong></td>
			</tr>
           <tr class="bottomborder graybg" ng-show="loanproduct.useBorrowerCycle">
               <td>{{'label.cyclenumber' | translate}}</td>
               <td>{{'label.minimum' | translate}}</td>
               <td>{{'label.default' | translate}}</td>
               <td>{{'label.maximum' | translate}}</td>
               <td></td>
            </tr>
            <tr ng-repeat="borrowerCycleVariation in loanproduct.interestRateVariationsForBorrowerCycle">
              <td>{{borrowerCycleVariation.valueConditionType.code | translate}}{{borrowerCycleVariation.borrowerCycleNumber}}</td>
              <td>{{borrowerCycleVariation.minValue}}</td>
              <td>{{borrowerCycleVariation.defaultValue}}</td>
              <td>{{borrowerCycleVariation.maxValue}}</td>
            </tr>

			<tr><td colspan="4"><br/></td></tr>
			<tr class="bottomborder"><td colspan="4"><strong>Settings</strong></td></tr>
			<tr class="toppadding">
				<td>{{'label.amortization' | translate}}</td>
				<td colspan="3">{{loanproduct.amortizationType.value}}</td>
			</tr>
			<tr>
				<td>{{'label.interestmethod' | translate}}</td>
				<td colspan="3">{{loanproduct.interestType.value}}</td>
			</tr>
			<tr>
				<td>{{'label.interestcalculationperiod' | translate}}</td>
				<td colspan="3">{{loanproduct.interestCalculationPeriodType.value}}</td>
			</tr>
			<tr>
				<td>{{'label.arrearstolerance' | translate}}</td>
				<td colspan="3">{{loanproduct.inArrearsTolerance}}</td>
			</tr>
			<tr>
				<td>{{'label.repaymentstrategy' | translate}}</td>
				<td colspan="3">{{loanproduct.transactionProcessingStrategyName}}</td>
			</tr>
			<tr>
				<td>{{'label.grace' | translate}}</td>
				<td colspan="3">{{loanproduct.}}</td>
			</tr>
			<tr>
				<td>{{'label.interestfreeperiod' | translate}}</td>
				<td colspan="3">{{loanproduct.}}</td>
			</tr>
			<tr><td colspan="4"><br/></td></tr>
			<tr class="bottomborder"><td colspan="4"><strong>{{'label.charges' | translate}}</strong></td></tr>
	            <tr class="bottomborder graybg">
	                <td>{{'tabel.heading.name' | translate}}</td>
	                <td>{{'label.form.type' | translate}}</td>
	                <td>{{'label.amount' | translate}}</td>
	                <td>{{'table.heading.collectedon' | translate}}</td>
	            </tr>
	            <tr ng-repeat="charge in loanproduct.charges">
	                <td>{{charge.name}}</td>
	                <td>{{charge.chargeCalculationType.value}}</td>
	                <td>{{charge.amount}}</td>
	                <td>{{charge.chargeTimeType.value}}</td>
	            </tr>
	        <tr><td colspan="4"><br/></td></tr>
			<tr class="bottomborder"><td><strong>{{'label.heading.accounting' | translate}}</strong></td><td colspan="3">
                <span ng-hide="hasAccounting">{{'label.none' | translate}}</span></td></tr>
			<tr><td colspan="4">
			<table width="100%" ng-show="hasAccounting">
				<tr class="toppadding">
					<td width="28%">{{'label.fundsource' | translate}}:</td>
					<td colspan="3" width="40%">{{loanproduct.accountingMappings.fundSourceAccountId}}</td>
				</tr>
				<tr>
					<td>{{'label.loanportfolio' | translate}}:</td>
					<td colspan="3">{{loanproduct.accountingMappings.loanPortfolioAccountId}}</td>
				</tr>
				<tr>
					<td>{{'label.incomefrominterest' | translate}}:</td>
					<td colspan="3">{{loanproduct.accountingMappings.interestOnLoanAccountId}}</td>
				</tr>
				<tr>
					<td>{{'label.incomefromfees' | translate}}:</td>
					<td colspan="3">{{loanproduct.accountingMappings.incomeFromFeeAccountId}}</td>
				</tr>
				<tr>
					<td>{{'label.incomefrompenalties' | translate}}:</td>
					<td colspan="3">{{loanproduct.accountingMappings.incomeFromPenaltyAccountId}}</td>
				</tr>
				<tr>
					<td>{{'label.loseswrittenoff' | translate}}:</td>
					<td colspan="3">{{loanproduct.accountingMappings.writeOffAccountId}}</td>
				</tr>
				<tr><td colspan="4"><br/></td></tr>
				<tr>
					<td>
                        {{'label.advanceaccountingrules' | translate}}
					</td>
				</tr>
				<tr class="toppadding bottomborder"><td colspan="4">{{'label.fundsourcesforpayment' | translate}}</td></tr>
		            <tr class="bottomborder graybg">
		                <td>{{'label.heading.paymenttype' | translate}}</td>
		                <td colspan="3">{{'label.heading.fundsource' | translate}}</td>
		            </tr>
		            <tr ng-repeat="paymentChannel in loanproduct.paymentChannelToFundSourceMappings">
		                <td>{{paymentChannel.paymentTypeId}}</td>
		                <td colspan="3">{{paymentChannel.fundSourceAccountId}}</td>
		            </tr>
		        <tr><td colspan="4"></td></tr>
		        <tr class="toppadding bottomborder"><td colspan="4">{{'label.feestospecificincome' | translate}}</td></tr>
		            <tr class="bottomborder graybg">
		                <td>{{'table.heading.fee' | translate}}</td>
		                <td colspan="3">{{'label.incomeaccount' | translate}}</td>
		            </tr>
		            <tr ng-repeat="feeToIncomeAccount in loanproduct.feeToIncomeAccountMappings">
		                <td>{{feeToIncomeAccount.chargeId}}</td>
		                <td colspan="3">{{feeToIncomeAccount.incomeAccountId}}</td>
		            </tr>
		        <tr><td colspan="4"></td></tr>
		        <tr class="toppadding bottomborder"><td colspan="4">{{'label.penaltiesspecifictoincomeacc' | translate}}</td></tr>
		        <tr class="bottomborder graybg"><td>{{'label.penalty' | translate}}</td><td colspan="3">{{'label.incomeaccount' | translate}}</td></tr>
		        <tr ng-repeat="penaltyToIncomeAccount in loanproduct.penaltyToIncomeAccountMappings">
		                <td>{{penaltyToIncomeAccount.chargeId}}</td>
		                <td colspan="3">{{penaltyToIncomeAccount.incomeAccountId}}</td>
		        </tr>
			</table>
			    </td>
			</tr>
			<tr>
				<td colspan="3">
				</td>
				<td class="pull-right">
					<a ng-click="scrollto('viewlptop')"><i class="icon-upload"></i>{{'label.top' | translate}}</a>
				</td>
			</tr>
		</table>
	</div>
</div>