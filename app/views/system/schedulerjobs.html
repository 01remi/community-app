<div class="paddedbottom10">
    <div class="paddedbottom10">
        <ul class="breadcrumb">
            <li><a href="#/system">{{'link.admin.system' | translate}}</a> <span class="divider">/</span></li>
            <li class="active">{{'label.manageschedulerjobs' | translate}}</li>
        </ul>
    </div>
</div>
<div class="row-fluid" ng-controller="SchedulerJobsController">
    <table>
        <tr>
            <td><h3>{{'label.schedulerstatus' | translate}}&nbsp;:&nbsp;{{schedulerstatus}}</h3></td>
            <td></td>
            <td><button class="btn" ng-show="schedulerstatus=='Active'" ng-click="suspendJobs()">{{'label.suspend' | translate}}</button></td>
            <td><button class="btn" ng-show="schedulerstatus=='Standby'" ng-click="activeJobs()">{{'table.heading.active' | translate}}</button></td>
        </tr>
    </table>
    <table ng-show="sentForExecution">
        <h4 ng-show="sentForExecution">{{'label.jobssentforexecution' | translate}}</h4>
        <tr ng-repeat="jobexecution in sentForExecution">
            <td><i class="icon-check icon-white"></i>{{jobexecution}}</td>
        </tr>
    </table>
	<table class="table">
        <thead>
            <tr class="graybg">
                <th><input type="checkbox" ng-model="activeall" ng-true-value="true" ng-false-value="false"
                     ng-click="selectAll(activeall)">{{'label.selectall' | translate}}</th>
                <th>{{'table.heading.name' | translate}}</th>
                <th>{{'table.heading.active' | translate}}</th>
                <th>{{'table.heading.nextrun' | translate}}</th>
                <th>{{'table.heading.previousrun' | translate}}</th>
                <th>{{'table.heading.previousrunstatus' | translate}}</th>
                <th>{{'table.heading.currentstatus' | translate}}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="job in jobs">
                <td><input type="checkbox" ng-model="active" ng-true-value="true" ng-false-value="false"
                     ng-click="runJobSelected(job.jobId, active)"></td>
                <td><a href="#/viewschedulerjob/{{job.jobId}}">{{job.displayName}}</a></td>
                <td>{{job.active}}</td>
                <td>{{job.nextRunTime}}</td>
                <td>{{job.lastRunHistory.jobRunStartTime}}</td>
                <td>{{job.lastRunHistory.jobRunStartTime}}</td>
                <td>{{job.currentlyRunning}}</td>
            </tr>
        </tbody>
    </table>
    <div class="offset3">
      <button class="btn btn-primary" ng-click="runSelectedJobs()">{{'label.runselectedjobs' | translate}}</button>
      <button class="btn btn-primary" ng-click="refresh()">{{'label.refresh' | translate}}</button>
    </div>
</div>