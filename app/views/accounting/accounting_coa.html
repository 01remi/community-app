<div>
  <ul class="breadcrumb">
    <li><a href="#/accounting">{{'link.accounting' | translate}}</a> <span class="divider">/</span></li>
    <li class="active">{{'label.coa' | translate}}</li>
  </ul>
</div>

<div class="row-fluid" ng-controller="AccCoaController">
    <div class="error" ng-show="errorStatus || errorDetails">
      <label>{{'label.error' | translate}}</label>
      <label ng-show="errorStatus">{{errorStatus}}</label>
      <label ng-hide="errorStatus" ng-repeat="error in errorDetails">{{error.code | translate}}</label>
    </div>
    <div class="pull-right">
      <a ng-show="isTreeView" ng-click="isTreeView=!isTreeView" class="btn btn-primary"><i class="icon-list icon-white"></i>{{'label.listview' | translate}}</a>
      <a ng-hide="isTreeView" ng-click="isTreeView=!isTreeView" class="btn btn-primary"><i class="icon-sitemap icon-white"></i>{{'label.treeview' | translate}}</a>
      <a href="#/createglaccount" class="btn btn-primary"><i class="icon-plus icon-white"></i> {{'button.addaccount' | translate}}</a>
    </div>
    <h3 class="bolder">{{'label.chartofaccounts' | translate}}</h3>
    <div ng-hide="isTreeView">
      <input ng-model="filterText" type="text" class="span marginbottom0px" placeholder="{{'label.filterbyname' | translate}}">
      <table class="table">
        <thead>
          <tr class="graybg">
            <th>{{'table.heading.accname' | translate}}</th>
            <th>{{'table.heading.glcode' | translate}}</th>
            <th>{{'table.heading.acctype' | translate}}</th>
            <th>{{'table.heading.disabled' | translate}}</th>
            <th>{{'table.heading.manualentriesallowed' | translate}}</th>
            <th>{{'table.heading.usedas' | translate}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="coadata in coadatas | orderBy:'type.value' | filter:filterText">
            <td>
              <a href="#/viewglaccount/{{coadata.id}}">{{coadata.name}}</a>
            </td>
            <td>
              <a href="#/viewglaccount/{{coadata.id}}">{{coadata.glCode}}</a>
            </td>
            <td>{{coadata.type.value}}</td>
            <td>{{coadata.disabled}}</td>
            <td>{{coadata.manualEntriesAllowed}}</td>
            <td>{{coadata.usage.value}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div ng-show="isTreeView">
      <div
        data-angular-treeview="true"
        data-tree-id="treeview"
        data-tree-model="treedata"
        data-node-id="id"
        data-node-label="name"
        data-node-children="children" >
    </div>
    </div>
</div>